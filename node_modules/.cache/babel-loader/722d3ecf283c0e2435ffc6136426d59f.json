{"ast":null,"code":"var _jsxFileName = \"/Users/apple/moviez/src/components/App.js\";\nimport React from \"react\";\nimport SearchBar from './SearchBar';\nimport MovieList from './MovieList';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      movies: [],\n      searchQuery: \"\"\n    };\n\n    this.deleteMovie = async movie => {\n      const baseURL = `http://localhost:3002/movies/${movie.id};`;\n      await fetch(baseURL, {\n        method: \"DELETE\"\n      });\n      const newMovieList = this.state.movies.filter(m => m.id !== movie.id);\n      this.setState(state => ({\n        movies: newMovieList\n      }));\n    };\n\n    this.searchMovie = event => {\n      // console.log(event.target.value)\n      this.setState({\n        searchQuery: event.target.value\n      });\n    };\n  }\n\n  // async componentDidMount(){\n  //     const baseURL = \"http://localhost:3002/movies\";\n  //     const response = await fetch(baseURL);\n  //  console.log(response)\n  //     const data =await response.json();\n  // console.log(data)\n  //     this.setState({movies:data})\n  // }\n  async componentDidMount() {\n    const response = await axios.get(\"http://localhost:3002/movies\");\n    console.log(response);\n    this.setState({\n      movies: response.data\n    });\n  } // deleteMovie =(movie)=> {\n  //   const newMovieList =this.state.movies.filter(\n  //     m =>m.id !== movie.id\n  //   );\n  // // this.setState({\n  // //   movies: newMovieList\n  // // })\n  // this.setState(state => ({\n  //   movies: newMovieList\n  // }))\n  // }\n  //FETCH API\n\n\n  render() {\n    let filteredMovies = this.state.movies.filter(movie => {\n      return movie.name.toLowerCase().indexOf(this.state.searchQuery) !== -1;\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-12\",\n          children: /*#__PURE__*/_jsxDEV(SearchBar, {\n            searchMovieProp: this.searchMovie\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MovieList, {\n        movies: filteredMovies,\n        deleteMovieProp: this.deleteMovie\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/apple/moviez/src/components/App.js"],"names":["React","SearchBar","MovieList","axios","App","Component","state","movies","searchQuery","deleteMovie","movie","baseURL","id","fetch","method","newMovieList","filter","m","setState","searchMovie","event","target","value","componentDidMount","response","get","console","log","data","render","filteredMovies","name","toLowerCase","indexOf"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,GAAN,SAAmBJ,KAAK,CAACK,SAAzB,CAAmC;AAAA;AAAA;AAAA,SACnCC,KADmC,GAC3B;AAAEC,MAAAA,MAAM,EAAI,EAAZ;AAEJC,MAAAA,WAAW,EAAC;AAFR,KAD2B;;AAAA,SAmCnCC,WAnCmC,GAmCtB,MAAOC,KAAP,IAAgB;AAC3B,YAAMC,OAAO,GAAI,gCAA+BD,KAAK,CAACE,EAAG,GAAzD;AACA,YAAMC,KAAK,CAACF,OAAD,EAAS;AAChBG,QAAAA,MAAM,EAAC;AADS,OAAT,CAAX;AAGA,YAAMC,YAAY,GAAE,KAAKT,KAAL,CAAWC,MAAX,CAAkBS,MAAlB,CAClBC,CAAC,IAAGA,CAAC,CAACL,EAAF,KAASF,KAAK,CAACE,EADD,CAApB;AAIF,WAAKM,QAAL,CAAcZ,KAAK,KAAK;AACtBC,QAAAA,MAAM,EAAEQ;AADc,OAAL,CAAnB;AAGC,KA/CkC;;AAAA,SAiDnCI,WAjDmC,GAiDpBC,KAAD,IAAW;AACvB;AACA,WAAKF,QAAL,CAAc;AAACV,QAAAA,WAAW,EAACY,KAAK,CAACC,MAAN,CAAaC;AAA1B,OAAd;AACD,KApDkC;AAAA;;AAMnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEuB,QAAjBC,iBAAiB,GAAG;AACxB,UAAMC,QAAQ,GAAG,MAAMrB,KAAK,CAACsB,GAAN,CAAU,8BAAV,CAAvB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACA,SAAKN,QAAL,CAAc;AAACX,MAAAA,MAAM,EAACiB,QAAQ,CAACI;AAAjB,KAAd;AACD,GAnBkC,CAqBnC;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AAoBGC,EAAAA,MAAM,GAAI;AACR,QAAIC,cAAc,GAAG,KAAKxB,KAAL,CAAWC,MAAX,CAAkBS,MAAlB,CAClBN,KAAD,IAAU;AACR,aAAOA,KAAK,CAACqB,IAAN,CAAWC,WAAX,GAAyBC,OAAzB,CAAiC,KAAK3B,KAAL,CAAWE,WAA5C,MAA4D,CAAC,CAApE;AACD,KAHkB,CAArB;AAKA,wBACD;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA,iCACI,QAAC,SAAD;AAAW,YAAA,eAAe,EAAE,KAAKW;AAAjC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAMI,QAAC,SAAD;AAAW,QAAA,MAAM,EAAEW,cAAnB;AAAmC,QAAA,eAAe,EAAE,KAAKrB;AAAzD;AAAA;AAAA;AAAA;AAAA,cANJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADC;AASH;;AArEiC;;AAwEnC,eAAeL,GAAf","sourcesContent":["import React from \"react\";\nimport SearchBar from './SearchBar';\nimport MovieList from './MovieList';\nimport axios from \"axios\";\n\nclass App  extends React.Component {\nstate = { movies :  [],\n \n    searchQuery:\"\"\n}\n\n// async componentDidMount(){\n//     const baseURL = \"http://localhost:3002/movies\";\n//     const response = await fetch(baseURL);\n//  console.log(response)\n//     const data =await response.json();\n// console.log(data)\n//     this.setState({movies:data})\n// }\n\nasync componentDidMount() {\n  const response = await axios.get(\"http://localhost:3002/movies\");\n  console.log(response);\n  this.setState({movies:response.data})\n}\n\n// deleteMovie =(movie)=> {\n//   const newMovieList =this.state.movies.filter(\n//     m =>m.id !== movie.id\n//   );\n\n// // this.setState({\n// //   movies: newMovieList\n// // })\n// this.setState(state => ({\n//   movies: newMovieList\n// }))\n// }\n\n//FETCH API\ndeleteMovie =async (movie)=> {\n  const baseURL = `http://localhost:3002/movies/${movie.id};`\n  await fetch(baseURL,{\n      method:\"DELETE\"\n  })\n  const newMovieList =this.state.movies.filter(\n    m =>m.id !== movie.id\n  );\n\nthis.setState(state => ({\n  movies: newMovieList\n}))\n}\n\nsearchMovie = (event) => {\n  // console.log(event.target.value)\n  this.setState({searchQuery:event.target.value})\n}\n\n   render () { \n     let filteredMovies = this.state.movies.filter(\n       (movie) =>{\n         return movie.name.toLowerCase().indexOf(this.state.searchQuery)!== -1\n       }\n     )\n     return (\n    <div className=\"container\">\n        <div className=\"row\">\n            <div className=\"col-lg-12\">\n                <SearchBar searchMovieProp={this.searchMovie}/>\n           </div>\n        </div>\n        <MovieList movies={filteredMovies} deleteMovieProp={this.deleteMovie}/>\n    </div>\n)} \n\n}\nexport default App;"]},"metadata":{},"sourceType":"module"}