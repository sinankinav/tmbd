{"ast":null,"code":"var _jsxFileName = \"/Users/apple/moviez/src/components/App.js\";\nimport React from \"react\";\nimport SearchBar from './SearchBar';\nimport MovieList from './MovieList';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      movies: [],\n      searchQuery: \"\"\n    };\n\n    this.deleteMovie = movie => {\n      const newMovieList = this.state.movies.filter(m => m.id !== movie.id); // this.setState({\n      //   movies: newMovieList\n      // })\n\n      this.setState(state => ({\n        movies: newMovieList\n      }));\n    };\n\n    this.searchMovie = event => {\n      // console.log(event.target.value)\n      this.setState({\n        searchQuery: event.target.value\n      });\n    };\n  }\n\n  // async componentDidMount(){\n  //     const baseURL = \"http://localhost:3002/movies\";\n  //     const response = await fetch(baseURL);\n  //  console.log(response)\n  //     const data =await response.json();\n  // console.log(data)\n  //     this.setState({movies:data})\n  // }\n  async componentDidMount() {\n    const response = await axios.get(\"http://localhost:3002/movies\");\n    console.log(response);\n    this.setState({\n      movies: response.data\n    });\n  }\n\n  render() {\n    let filteredMovies = this.state.movies.filter(movie => {\n      return movie.name.toLowerCase().indexOf(this.state.searchQuery) !== -1;\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-12\",\n          children: /*#__PURE__*/_jsxDEV(SearchBar, {\n            searchMovieProp: this.searchMovie\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MovieList, {\n        movies: filteredMovies,\n        deleteMovieProp: this.deleteMovie\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/apple/moviez/src/components/App.js"],"names":["React","SearchBar","MovieList","axios","App","Component","state","movies","searchQuery","deleteMovie","movie","newMovieList","filter","m","id","setState","searchMovie","event","target","value","componentDidMount","response","get","console","log","data","render","filteredMovies","name","toLowerCase","indexOf"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,GAAN,SAAmBJ,KAAK,CAACK,SAAzB,CAAmC;AAAA;AAAA;AAAA,SACnCC,KADmC,GAC3B;AAAEC,MAAAA,MAAM,EAAI,EAAZ;AAEJC,MAAAA,WAAW,EAAC;AAFR,KAD2B;;AAAA,SAqBnCC,WArBmC,GAqBrBC,KAAD,IAAU;AACrB,YAAMC,YAAY,GAAE,KAAKL,KAAL,CAAWC,MAAX,CAAkBK,MAAlB,CAClBC,CAAC,IAAGA,CAAC,CAACC,EAAF,KAASJ,KAAK,CAACI,EADD,CAApB,CADqB,CAKvB;AACA;AACA;;AACA,WAAKC,QAAL,CAAcT,KAAK,KAAK;AACtBC,QAAAA,MAAM,EAAEI;AADc,OAAL,CAAnB;AAGC,KAhCkC;;AAAA,SAkCnCK,WAlCmC,GAkCpBC,KAAD,IAAW;AACvB;AACA,WAAKF,QAAL,CAAc;AAACP,QAAAA,WAAW,EAACS,KAAK,CAACC,MAAN,CAAaC;AAA1B,OAAd;AACD,KArCkC;AAAA;;AAMnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEuB,QAAjBC,iBAAiB,GAAG;AACxB,UAAMC,QAAQ,GAAG,MAAMlB,KAAK,CAACmB,GAAN,CAAU,8BAAV,CAAvB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACA,SAAKN,QAAL,CAAc;AAACR,MAAAA,MAAM,EAACc,QAAQ,CAACI;AAAjB,KAAd;AACD;;AAoBEC,EAAAA,MAAM,GAAI;AACR,QAAIC,cAAc,GAAG,KAAKrB,KAAL,CAAWC,MAAX,CAAkBK,MAAlB,CAClBF,KAAD,IAAU;AACR,aAAOA,KAAK,CAACkB,IAAN,CAAWC,WAAX,GAAyBC,OAAzB,CAAiC,KAAKxB,KAAL,CAAWE,WAA5C,MAA4D,CAAC,CAApE;AACD,KAHkB,CAArB;AAKA,wBACD;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA,iCACI,QAAC,SAAD;AAAW,YAAA,eAAe,EAAE,KAAKQ;AAAjC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAMI,QAAC,SAAD;AAAW,QAAA,MAAM,EAAEW,cAAnB;AAAmC,QAAA,eAAe,EAAE,KAAKlB;AAAzD;AAAA;AAAA;AAAA;AAAA,cANJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADC;AASH;;AAtDiC;;AAyDnC,eAAeL,GAAf","sourcesContent":["import React from \"react\";\nimport SearchBar from './SearchBar';\nimport MovieList from './MovieList';\nimport axios from \"axios\";\n\nclass App  extends React.Component {\nstate = { movies :  [],\n \n    searchQuery:\"\"\n}\n\n// async componentDidMount(){\n//     const baseURL = \"http://localhost:3002/movies\";\n//     const response = await fetch(baseURL);\n//  console.log(response)\n//     const data =await response.json();\n// console.log(data)\n//     this.setState({movies:data})\n// }\n\nasync componentDidMount() {\n  const response = await axios.get(\"http://localhost:3002/movies\");\n  console.log(response);\n  this.setState({movies:response.data})\n}\n\ndeleteMovie =(movie)=> {\n  const newMovieList =this.state.movies.filter(\n    m =>m.id !== movie.id\n  );\n\n// this.setState({\n//   movies: newMovieList\n// })\nthis.setState(state => ({\n  movies: newMovieList\n}))\n}\n\nsearchMovie = (event) => {\n  // console.log(event.target.value)\n  this.setState({searchQuery:event.target.value})\n}\n\n   render () { \n     let filteredMovies = this.state.movies.filter(\n       (movie) =>{\n         return movie.name.toLowerCase().indexOf(this.state.searchQuery)!== -1\n       }\n     )\n     return (\n    <div className=\"container\">\n        <div className=\"row\">\n            <div className=\"col-lg-12\">\n                <SearchBar searchMovieProp={this.searchMovie}/>\n           </div>\n        </div>\n        <MovieList movies={filteredMovies} deleteMovieProp={this.deleteMovie}/>\n    </div>\n)} \n\n}\nexport default App;"]},"metadata":{},"sourceType":"module"}